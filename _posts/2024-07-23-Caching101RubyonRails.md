---
title: "캐싱 기초 Ruby on Rails에서 캐싱하는 방법"
description: ""
coverImage: "/assets/img/2024-07-23-Caching101RubyonRails_0.png"
date: 2024-07-23 21:55
ogImage: 
  url: /assets/img/2024-07-23-Caching101RubyonRails_0.png
tag: Tech
originalTitle: "Caching 101 Ruby on Rails"
link: "https://medium.com/@patrickkarsh/caching-101-in-ruby-on-rails-f9c885340041"
---



![Caching101RubyonRails](/assets/img/2024-07-23-Caching101RubyonRails_0.png)

루비 온 레일즈, 종종 간단히 레일즈로 불리는 것은 MIT 라이선스 하에 루비로 작성된 서버 측 웹 애플리케이션 프레임워크입니다. MVC(Model-View-Controller) 프레임워크로서 데이터베이스, 웹 서비스 및 웹 페이지에 대한 기본 구조를 제공합니다. 루비 온 레일즈에서 효율적이고 빠른 웹 애플리케이션을 개발하는 중요한 측면 중 하나는 효과적인 캐싱입니다. 캐싱은 작업의 결과를 임시 저장 영역에 저장하는 프로세스로, 해당 데이터에 대한 미래 요청을 빠르게 처리할 수 있게 합니다. 이 글에서는 루비 온 레일즈에서 사용할 수 있는 다양한 캐싱 전략, 이점 및 언제 사용해야 하는지에 대해 다룹니다.

# 루비 온 레일즈에서의 캐싱 유형

## 페이지 캐싱


<div class="content-ad"></div>

페이지 캐싱은 전체 HTML 페이지를 캐싱하는 것을 의미합니다. 레일즈 앱을 완전히 우회하기 때문에 가장 빠른 캐싱 방법입니다. 웹 서버가 직접 저장된 HTML 파일을 제공하여 레일즈 응용프로그램 스택을 거치지 않습니다. 그러나 페이지 캐싱은 동적 웹 애플리케이션이 더 일반적인 사용자별 컨텐츠가 증가함에 따라 인기가 줄어들었습니다.

## 액션 캐싱

액션 캐싱은 페이지 캐싱과 비슷하지만 더 세밀한 제어가 가능합니다. 컨트롤러 액션의 출력을 캐싱하지만 여전히 레일즈 스택을 통과하여 캐시 제공 전에 인증 및 필터링을 실행할 수 있습니다. 인증이 필요한 페이지나 페이지 캐싱으로 처리할 수 없는 동적 요소가 포함된 페이지에 적합합니다.

## 조각 캐싱

<div class="content-ad"></div>

프래그먼트 캐싱은 전체 페이지가 아닌 뷰의 일부를 캐시하는 데 사용됩니다. 이 전략은 페이지 일부가 정적으로 유지되는 애플리케이션에서 특히 유용합니다. 다른 부분은 자주 변경됩니다. 프래그먼트 캐싱을 사용하면 개발자가 메뉴, 헤더 또는 푸터와 같이 캐시할 뷰의 특정 부분을 지정할 수 있습니다. 이렇게 하면 성능이 크게 향상되고 여전히 필요한 곳에 동적 콘텐츠를 제공할 수 있습니다.

# 캐싱 전략 구현하기

## 페이지 캐싱

페이지 캐싱을 구현하려면 컨트롤러에서 caches_page 메서드를 사용할 수 있습니다. 캐시하려는 작업을 지정하고 Rails는 자동으로 생성된 HTML을 저장합니다.

<div class="content-ad"></div>


<img src="/assets/img/2024-07-23-Caching101RubyonRails_1.png" />

## Action Caching

액션 캐싱을 위해 caches_action 메소드를 사용하세요. 페이지 캐싱과 비교하여 더 유연하며, before 필터를 포함할 수 있습니다.

<img src="/assets/img/2024-07-23-Caching101RubyonRails_2.png" /> 


<div class="content-ad"></div>

## 프래그먼트 캐싱

프래그먼트 캐싱은 뷰에서 cache 메서드를 사용하여 직접 구현할 수 있습니다. Rails는 프래그먼트의 캐싱과 검색을 자동으로 처리할 것입니다.

![이미지](/assets/img/2024-07-23-Caching101RubyonRails_3.png)

# 고급 캐싱 기술

<div class="content-ad"></div>

## 저레벨 캐싱

저레벨 캐싱은 임의의 객체를 캐싱할 수 있게 해주어 개발자가 무엇을 캐싱할지에 대해 미세한 제어권을 제공합니다. 특히, 검색하거나 계산하기 비용이 비실 경우 데이터의 일부를 캐싱하는 데 매우 유용합니다.

![캐싱 이미지](/assets/img/2024-07-23-Caching101RubyonRails_4.png)

## 러시안 돌 캐싱

<div class="content-ad"></div>

러시안 돌 캐싱은 중첩된 조각들을 개별적으로 캐시하면서도 더 큰 조각의 일부로도 캐싱하는 기술입니다. 이 방법은 나머지 캐시에 영향을 미치지 않고 단일 캐시 조각을 무효화하는 데 효과적입니다.

## 조건부 GET 지원

Rails는 fresh_when 및 stale? 메서드를 사용하여 조건부 GET를 지원합니다. 이러한 메서드는 내용이 변경되었는지 여부를 판별하고 서버가 새로운 응답을 보내야 하는지 브라우저의 캐시를 신뢰할 수 있는지를 결정하는 데 도움이 됩니다.

# 결론

<div class="content-ad"></div>

캐싱은 루비 온 레일 애플리케이션의 성능을 향상시키는 강력한 기술입니다. 다양한 캐싱 전략을 이해하고 구현함으로써, 개발자는 애플리케이션의 반응성을 크게 향상시키고 서버 부하를 줄이며 더 나은 사용자 경험을 제공할 수 있습니다. 정적 콘텐츠에 대한 페이지 캐싱부터 동적 요소에 대한 프래그먼트 캐싱까지, Rails는 캐싱을 통해 응용 프로그램 성능을 최적화하는 강력한 도구 세트를 제공합니다.